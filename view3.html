<!DOCTYPE html>
<html lang="en">

 <head>
  <meta charset="utf-8" />
  <meta name="author" content="Ruven Pillay &lt;ruven@users.sourceforge.netm&gt;"/>
  <meta name="keywords" content="IIPImage HTML5 Ajax Internet Imaging IIP Zooming Streaming High Resolution Mootools"/>
  <meta name="description" content="IIPImage: High Resolution HTML5 Ajax Image Streaming Viewer"/>
  <meta name="copyright" content="&copy; 2003-2011 Ruven Pillay"/>
  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" >

  <link rel="stylesheet" type="text/css" media="all" href="css/iip.css" />
<!--[if lt IE 9]>
  <link rel="stylesheet" type="text/css" media="all" href="css/ie.css" />
<![endif]-->

  <link rel="shortcut icon" href="images/iip-favicon.png" />

  <title>IIPMooViewer 2.0 :: IIPImage High Resolution HTML5 Ajax Image Streaming Viewer</title>

  <script type="text/javascript" src="js/mootools-core-1.3.2-full-nocompat.js"></script>
  <script type="text/javascript" src="js/mootools-more-1.3.2.1.js"></script>
  <script type="text/javascript" src="js/protocols.js"></script>
  <script type="text/javascript" src="js/iipmooviewer-2.0.js"></script>
  <script type="text/javascript" src="js/annotation.js"></script>
<!--[if lt IE 7]>
  <script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js">IE7_PNG_SUFFIX = ".png";</script>
<![endif]-->

  <script type="text/javascript">

    // The iipsrv server path (/fcgi-bin/iipsrv.fcgi by default)
    var server = '/fcgi-bin/iipsrv.fcgi';

    // The *full* image path on the server. This path does *not* need to be in the web
    // server root directory. On Windows, use Unix style forward slash paths without
    // the "c:" prefix
	var imglocation=window.location.search;
    if (imglocation.substring(0,1)=='?'){
    imglocation=imglocation.substring(1); }
    console.log(imglocation);

    // The *full* image path on the server. This path does *not* need to be in the web
    // server root directory.
    var images = imglocation;

    // Copyright or information message
    var credit = "<i>Portrait d'une femme Ã  sa toilette</i>&copy; C2RMF";
    // Create our viewer object
    // See documentation for more details of options
    var iipmooviewer = new IIPMooViewer( "targetframe", {
		image: images,
		server: server,
		credit: credit, 
		scale: 18.0
    });
    var annot = new Array();
    annot.push( {annotType:"rect",x: 0.38, y: 0.28, w: 0.14, h: 0.06,color:"red", text: ""} );
    annot.push( {annotType:"circle",x: 0.5, y: 0.5, r:0.4, color:"red",text: ""} );
    annot.push( {annotType:"svg",x:0.5,y:0.5,res:2,size:30,svgsrc:"2.svg",text:""});
  
 </script>
 </head>

 <body>
   <div style="width:100%;height:100%;position:absolute" id="targetframe"></div>
   <div style="width:100%;height:100%;position:absolute;z-index:1;visibility:hidden" id="layer">
	<svg style="position:absolute;top:20%;left:20%" xmlns="http://www.w3.org/2000/svg" version="1.1">
	<circle cx="100" cy="50" r="40" stroke="black"
	  stroke-width="2" fill="red"/>
	</svg>
   </div>
   <div style="width:10%;height:10%;position:absolute;top:90%;left:2%;z-index:2" id="control">
       <a style="color:red" id="show">Show Layer</a>
       <a style="color:red;visibility:hidden" id="hide">Hide Layer</a>
   </div>
  <script type="text/javascript">
	$("show").addEvent('click',function(){this.set({styles:{visibility:'hidden'}}); 
		                                  $("hide").set({styles:{visibility:'visible'}});
		                                  $("layer").set({styles:{visibility:'visible'}});
		                                  showAnnotations(iipmooviewer,annot);
		                                  });
	$("hide").addEvent('click',function(){this.set({styles:{visibility:'hidden'}});
		                                 $("show").set({styles:{visibility:'visible'}});
		                                 $("layer").set({styles:{visibility:'hidden'}});});
  </script>
 </body>
</html>
